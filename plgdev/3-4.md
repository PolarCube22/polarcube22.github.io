# 3-4 什么是 CLI

这一节是我临时新增的一个内容，本来我们可以跳过这一节直接进入下一节中的演习，但 CLI 这个内容比较重要，我们还是简单介绍一下。

## 基于命令的交互

到目前为止你会发现，我们编写的插件似乎没法调用其它插件的方法。

例如，「HarmonyAuth」中，`LoginData` 的 `addPlayerName` 方法，只能被我们自己调用，而不能被「Hello World」插件调用。

要想突破这一限制，有两个方法：使用 Bukkit 提供的插件管理器获取目标插件的方法，或者使用 CLI。

前一种方法比较麻烦，而且对于新手而言不是很好用，所以我们就不讲解了，我们说说 CLI。

CLI 就是**命令行接口**（Command Line Interface）的缩写，这个词本来来自前端，但这个思想很有用，它指的是通过其它插件提供的命令，操作某一个插件。

## 由服务端执行的命令

所有的 CLI 命令都应该考虑权限验证的问题，由于 CLI 是插件之间的交互，一般直接以服务端的身份执行，这是最安全的，因为无法被玩家利用。

## CLI 的应用

比如说有这样一个场景：

玩家在商店中购买商品时，需要向货币插件（这里是「CuteCoin」）确认玩家是否有足够的金币，如果商店和货币是一个插件，那还比较好办，如果不是……

幸运的是我们可以使用 CLI。如果「CuteCoin」实现了可用的 CLI，商店插件只需要在玩家单击「购买」按钮时，以服务器的身份执行类似于这样的命令……

```
/cutecoin-cli query RarityEG
```

再和该插件协商一个取得数据的办法就行了（例如向服务端发送消息）。

## CLI 只是普通的命令

CLI 不是什么魔法，它和普通的命令没有区别，唯一的特点是它是由插件来执行而非玩家。通常插件会拒绝玩家执行插件用的 CLI，不过也有例外，例如需要知道玩家身份时。

此外需要注意，Bukkit 中并没有 CLI 的概念，CLI **只是一种协议**，而这是由插件作者来选择实现的。

## CLI 的价值

CLI 相比传统的「依赖某个插件」更加轻便，因为 CLI 就是命令，所以可以使用命令处理函数来处理，而且理论上不需要其它的依赖。

!> **尚未统一**<br/>虽然 CLI 的概念早就被引入了插件开发，但目前为止**没有一个统一的 CLI 标准**！因此，如果你的插件具有 CLI，就把它作为插件的一个特性吧。